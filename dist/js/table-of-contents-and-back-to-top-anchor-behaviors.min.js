window.atBeginingShouldCollapseAllTOCItemsOfLevelsGreaterThan=1,window.atBeginingShouldShowTOCWhenWindowsIsWideEnough=!0,function(){const e="-".repeat(51);console.log(`\n\n${e}\nWelcome to wulechuan's article TOC controller.\n\n ${" ".repeat(32)}wulechuan@live.com\n${e}\n\n`);const t="markdown-article-toc-is-visible",o="has-nested-toc-list",l="is-collapsed",n="markdown-article-toc-toggling-button",i=600,s=1e3,c=document.querySelector(".markdown-article");if(!c)return;const r=document.querySelector("nav.markdown-article-toc");if(!r)return;const a=r.classList.contains("should-show-2-levels-at-most"),d=document.querySelector(".markdown-article-back-to-top");d&&(d.onclick=function(){if(!y())return;m(!1)}),c.onclick=function(){if(!(window.innerWidth<=s))return;m(!1)};const u=document.body,h=u,w=u;let f;function p(){m(!f)}function m(e){w.classList.toggle(t,e),f=e}function y(){return window.innerWidth<=i}function g(e){e.stopPropagation();const{srcElement:t}=e;if(t!==this&&t!==this.selfAnchor)return;let o=this.isCollapsible,n=!1;return y()&&(o=!1),o?this.classList.contains(l)?this.classList.remove(l):(this.classList.add(l),n=!0):this.classList.remove(l),!n&&void 0}w.classList.add("markdown-article-toc-exists"),function e(t,o){const l=t.querySelector("ol, ul");if(!l)return;o||(o=1);l.classList.add(`toc-list-level-${o}`);const n=Array.prototype.slice.apply(l.children).filter(e=>"li"===e.tagName.toLowerCase());n.forEach(t=>{t.tocLevelId=o,t.classList.add(`toc-list-level-${o}-item`),e(t,o+1)})}(r),function(){let e;if(Array.prototype.slice.apply(r.querySelectorAll("li")).forEach(e=>{e.querySelectorAll("li").length>0&&(e.classList.add(o),e.hasNestedList=!0,e.isCollapsible=!1,e.selfAnchor=e.querySelector("a"),e.onclick=g)}),a){const t=r.querySelector("ol, ul").children;e=t}else e=r.querySelectorAll(`li.${o}`);Array.prototype.slice.apply(e).forEach(e=>{e.isCollapsible=!0,e.tocLevelId>window.atBeginingShouldCollapseAllTOCItemsOfLevelsGreaterThan&&e.classList.add(l)})}(),function(){let e=document.querySelector(`.${n}`);e||((e=document.createElement("button")).className=n,h===u?h.insertBefore(e,document.scripts[0]):h.appendChild(e));null===e.onclick&&(e.onclick=p)}(),m(window.atBeginingShouldShowTOCWhenWindowsIsWideEnough&&window.innerWidth>=s)}();